<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <h1>Hello, world</h1>
    <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam.
        Aenean lacinia bibendum nulla sed consectetur. Aenean eu leo quam. Pellentesque ornare sem lacinia quam
        venenatis vestibulum. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Vivamus sagittis
        lacus vel augue laoreet rutrum faucibus dolor auctor. Cras mattis consectetur purus sit amet fermentum. Morbi
        leo risus, porta ac consectetur ac, vestibulum at eros</p>

    <p>Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Etiam porta sem malesuada magna mollis
        euismod. Nulla
        vitae elit libero, a pharetra augue. Donec sed odio dui. Integer posuere erat a ante venenatis dapibus posuere
        velit aliquet.</p>

    <p>Duis mollis, est non commodo luctus, nisi erat porttitor
        ligula, eget lacinia <a href="https://www.bigcabal.com">odio sem nec elit. Sed posuere </a>
        consectetur est at <abbr name="lobortis">lbrt</abbr>. Maecenas faucibus mollis interdum. Aenean lacinia
        <img src="test.jpg" with="300" height="auto"> bibendum nulla sed
        consectetur. Praesent <code><b>commodo cursus magna, vel scelerisque nisl consectetur et.</code></b>
    </p>
    <button >Hit me</button>

</body>

<script>

    
    // Get the button element
    var button = document.querySelector('button');
    
    // Attach click event listener to the button
    button.addEventListener('click', addParagraphs);
    
    // Get the parent element where paragraphs will be inserted
    var parentElement = document.body;
    
    // Store the original paragraphs in an array
    var  originalParagraphs = Array.from(document.querySelectorAll('p'));

    // Insert the <hr> element between two paragraphs
    function insertHr() {
        var hr = document.createElement('hr');
        parentElement.appendChild(hr);
    }

    // Shuffle an array in place
    function shuffleArray(array) {
        for (var i = array.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var temp = array[i];
            array[i] = array[j];
            array[j] = temp;
        }
        return array;
    }

    // Add new paragraphs in a randomized order
    function addParagraphs() {

        //Store the original paragraphs in an array
        var originalParagraphs = Array.from(document.querySelectorAll('p'));
        // Shuffle the original paragraphs array
        var shuffledParagraphs = shuffleArray(originalParagraphs);

        // Iterate over the shuffled paragraphs and insert them
        for (var i = 0; i < 3; i++) {
            parentElement.appendChild(shuffledParagraphs[i].cloneNode(true));
            insertHr();
        }
    }

    // Insert <hr> elements between original paragraphs
    /* originalParagraphs.forEach(function (paragraph) {
        parentElement.appendChild(paragraph.cloneNode(true));
        insertHr();
    }); */



    // Get the toggle button element
    var toggleButton = document.createElement('button');
    toggleButton.textContent = 'Toggle Images';
    document.body.appendChild(toggleButton);

    // Attach click event listener to the toggle button
    toggleButton.addEventListener('click', toggleImageParagraphs);

    // Toggle visibility of paragraphs containing images
    function toggleImageParagraphs() {
        var paragraphs = document.querySelectorAll('p');
        paragraphs.forEach(function (paragraph) {
            if (paragraph.querySelector('img')) {
                paragraph.style.display = (paragraph.style.display === 'none') ? 'block' : 'none';
            }
        });
    }

</script>

</html>